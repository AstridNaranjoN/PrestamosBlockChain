"use strict";var app=angular.module("App-FISAPAY",["pascalprecht.translate","ngAnimate","ngRoute","ngSanitize","ngTouch","ngCookies","angular-loading-bar","loadingMsgDirective","ngCsv","summernote","ngPrint","LocalStorageModule","ui.select2"]).run(["$rootScope","authService","$location",function(e,t,n){e.lang="es",e.theme="bootstrap",e.cssTable="table table-striped table-condensed table-bordered table-hover",e.cssForm="container row main main-form main-center",t.fillAuthData(),e.IsAuthenticated=t.authentication.isAuth;var o=n.path().indexOf("Account");o<0&&(o=n.path().indexOf("Login")),o<0&&(e.IsAuthenticated||n.path("/"))}]);app.config(["$httpProvider",function(e){e.interceptors.push("authInterceptorService")}]).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"/Translations/",suffix:".json"}).preferredLanguage("es").useLocalStorage().useMissingTranslationHandlerLog().useSanitizeValueStrategy("sanitize")}]).config(["localStorageServiceProvider",function(e){e.setPrefix("appFisaPay")}]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"Vws/PagesPublic/Home.html",controller:"homeController"}).when("/Account/:TypePage/:ID",{templateUrl:"Vws/Account.html",controller:"accountController"}).when("/Login/:TypeUser",{templateUrl:"Vws/PagesPublic/Login.html",controller:"loginController"}).when("/SignIn",{templateUrl:"Vws/PagesPublic/SignIn.html",controller:"signinController"}).when("/Main",{templateUrl:"Vws/Main.html",controller:"mainController"}).when("/UploadDialy",{templateUrl:"Vws/PagesSincro/DailyDataBank.html",controller:"dailydatabankController"}).when("/Planilla/:FormatExcelID",{templateUrl:"Vws/PagesSincro/Planillas.html",controller:"planillasController"}).when("/ManageUser/:TypeUser/:CodeUser",{templateUrl:"Vws/PagesAdmin/ManageUsers.html",controller:"manageusersController"}).when("/ManageFormatExcel",{templateUrl:"Vws/PagesAdmin/ManageFormatExcel.html",controller:"manageformatexcelController"}).when("/InformeDlle/:TypeUser",{templateUrl:"Vws/PagesReport/InformeDetallado.html",controller:"informedetalladoController"}).when("/MisPagos/:TypeUser",{templateUrl:"Vws/PagesReport/InformeDlleUser.html",controller:"informedlleuserController"}).when("/FormatExcelAdmin",{templateUrl:"Vws/PagesAdmin/FormatExcel.html",controller:"FormatExcelAdmin"}).when("/FormatExcelDlleAdmin/:FormatExcelID",{templateUrl:"Vws/PagesAdmin/FormatExcelDlle.html",controller:"FormatExcelDlleAdmin"}).when("/Action",{templateUrl:"Vws/Pages/Action.html",controller:"ActionController"}).when("/Application",{templateUrl:"Vws/Pages/Application.html",controller:"ApplicationController"}).when("/ARL",{templateUrl:"Vws/Pages/ARL.html",controller:"ARLController"}).when("/Bank",{templateUrl:"Vws/Pages/Bank.html",controller:"BankController"}).when("/Cesantias",{templateUrl:"Vws/Pages/Cesantias.html",controller:"CesantiasController"}).when("/City",{templateUrl:"Vws/Pages/City.html",controller:"CityController"}).when("/CivilStatus",{templateUrl:"Vws/Pages/CivilStatus.html",controller:"CivilStatusController"}).when("/Country",{templateUrl:"Vws/Pages/Country.html",controller:"CountryController"}).when("/Department",{templateUrl:"Vws/Pages/Department.html",controller:"DepartmentController"}).when("/EPS",{templateUrl:"Vws/Pages/EPS.html",controller:"EPSController"}).when("/FormatExcel",{templateUrl:"Vws/Pages/FormatExcel.html",controller:"FormatExcelController"}).when("/FormatExcelDlle",{templateUrl:"Vws/Pages/FormatExcelDlle.html",controller:"FormatExcelDlleController"}).when("/FormatExcelDlleUser",{templateUrl:"Vws/Pages/FormatExcelDlleUser.html",controller:"FormatExcelDlleUserController"}).when("/FormatsFisaPay",{templateUrl:"Vws/Pages/FormatsFisaPay.html",controller:"FormatsFisaPayController"}).when("/Gender",{templateUrl:"Vws/Pages/Gender.html",controller:"GenderController"}).when("/Messages",{templateUrl:"Vws/Pages/Messages.html",controller:"MessagesController"}).when("/Notification",{templateUrl:"Vws/Pages/Notification.html",controller:"NotificationController"}).when("/NotificationsPending",{templateUrl:"Vws/Pages/NotificationsPending.html",controller:"NotificationsPendingController"}).when("/Parameter",{templateUrl:"Vws/Pages/Parameter.html",controller:"ParameterController"}).when("/ParameterHTML",{templateUrl:"Vws/Pages/ParameterHTML.html",controller:"ParameterHTMLController"}).when("/Pension",{templateUrl:"Vws/Pages/Pension.html",controller:"PensionController"}).when("/Profile",{templateUrl:"Vws/Pages/Profile.html",controller:"ProfileController"}).when("/ProfileResourceAction",{templateUrl:"Vws/Pages/ProfileResourceAction.html",controller:"ProfileResourceActionController"}).when("/ProfileResourceMain",{templateUrl:"Vws/Pages/ProfileResourceMain.html",controller:"ProfileResourceMainController"}).when("/RefreshTokens",{templateUrl:"Vws/Pages/RefreshTokens.html",controller:"RefreshTokensController"}).when("/Regimen",{templateUrl:"Vws/Pages/Regimen.html",controller:"RegimenController"}).when("/Resource",{templateUrl:"Vws/Pages/Resource.html",controller:"ResourceController"}).when("/ResourceAction",{templateUrl:"Vws/Pages/ResourceAction.html",controller:"ResourceActionController"}).when("/ResourceMain",{templateUrl:"Vws/Pages/ResourceMain.html",controller:"ResourceMainController"}).when("/Services",{templateUrl:"Vws/Pages/Services.html",controller:"ServicesController"}).when("/TextHelp",{templateUrl:"Vws/Pages/TextHelp.html",controller:"TextHelpController"}).when("/TypeAccountBank",{templateUrl:"Vws/Pages/TypeAccountBank.html",controller:"TypeAccountBankController"}).when("/TypeIdentification",{templateUrl:"Vws/Pages/TypeIdentification.html",controller:"TypeIdentificationController"}).when("/TypeUser",{templateUrl:"Vws/Pages/TypeUser.html",controller:"TypeUserController"}).when("/User",{templateUrl:"Vws/Pages/User.html",controller:"UserController"}).when("/UserAgency",{templateUrl:"Vws/Pages/UserAgency.html",controller:"UserAgencyController"}).when("/UserAgencyAdmon",{templateUrl:"Vws/Pages/UserAgencyAdmon.html",controller:"UserAgencyAdmonController"}).when("/UserFile",{templateUrl:"Vws/Pages/UserFile.html",controller:"UserFileController"}).when("/UserFileXUser",{templateUrl:"Vws/Pages/UserFileXUser.html",controller:"UserFileXUserController"}).when("/UserLegal",{templateUrl:"Vws/Pages/UserLegal.html",controller:"UserLegalController"}).when("/UserNatural",{templateUrl:"Vws/Pages/UserNatural.html",controller:"UserNaturalController"}).otherwise({redirectTo:"/Main"})}]).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"/Translations/",suffix:".json"}).preferredLanguage("es").useLocalStorage().useMissingTranslationHandlerLog().useSanitizeValueStrategy("sanitize")}]),app.constant("apiServiceSettings",{apiServiceBaseUri:"http://fisapay.azurewebsites.net/api/v1/",clientID:"FISAPAY001"}).constant("Enumerations",{Profiles:{Administrador:1,Usuario_Financiera:2,Usuario_Contable:3,Vendedor:4,Concesionario:5,Financiero_FisaPay:6},TypeUser:{Todos:0,PersonaNatural:1,PersonaJuridica:2}}),app.directive("tooltip",function(){return{restrict:"A",link:function(e,t,n){$(t).hover(function(){$(t).tooltip({html:!0}),$(t).tooltip("show")},function(){$(t).tooltip("hide"),$(t).tooltip("destroy")})}}}).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,n,o){var r=e(o.fileModel).assign;n.bind("change",function(){t.$apply(function(){r(t,n[0].files[0])})})}}}]).directive("myState",function(){return{restrict:"E",scope:{stateInfo:"=state"},template:"<i class=\"fa fa-2x\" ng-class=\"((stateInfo) ? 'fa-check-circle text-success' : 'fa-times-circle text-danger')\"></i>"}}).directive("myHelpText",function(){return{restrict:"E",scope:{HelpTextInfo:"=helptext"},template:function(e,t){return'<div ng-if="HelpTextInfo != null" class="bs-callout bs-callout-'+(t.type?t.type:"info")+'"><h4>{{HelpTextInfo.Title}}</h4><p ng-bind-html="HelpTextInfo.Text"></p></div>'}}}).directive("modalHeader",function(){return{restrict:"E",template:'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button><div ng-hide="viewMode"><h4 class="modal-title" id="myModalLabel" ng-hide="editMode" translate="TitCrear"></h4><h4 class="modal-title" id="myModalLabel" ng-show="editMode" translate="TitModificar"></h4></div><h4 class="modal-title" id="myModalLabel" ng-show="viewMode" translate="TitVer"></h4></div>'}}).directive("modalFooter",function(){return{restrict:"E",template:function(e,t){return'<div class="modal-footer" ng-hide="viewMode"><button type="button" data-ng-click="cancel()" class="btn btn-default" translate="btnCancelar"></button><button type="button" data-ng-click="add()" class="btn btn-primary" data-ng-hide="editMode" ng-disabled="frm'+t.name+'.$invalid" translate="btnCrear"></button><button type="button" data-ng-click="update()" class="btn btn-primary" data-ng-show="editMode" ng-disabled="frm'+t.name+'.$invalid" translate="btnModificar"></button></div><div class="modal-footer" ng-show="viewMode"><button type="button" class="btn btn-default" data-dismiss="modal" translate="btnCerrar"></button><button type="button" data-ng-click="delete(Item'+t.name+')" class="btn btn-danger" translate="btnEliminar"></button></div>'}}}).directive("titlePag",function(){return{restrict:"E",template:function(e,t){return'<div class="bs-callout bs-callout-title"><h4 translate="'+t.title+'"></h4></div>'}}}).directive("textSinDatos",function(){return{restrict:"E",scope:{countList:"=length"},template:'<div class="col-sm-12" ng-show="countList == 0" translate="SinDatos"></div>'}}).directive("buttonList",function(){return{restrict:"E",template:'<div class="btn-group" role="group"><button type="button" data-ng-click="get(Item)" class="btn btn-default" data-toggle="tooltip" data-placement="top" tooltip title="{{\'tooltipVer\' | translate}}" translate="btnlistVer"></button><button type="button" data-ng-click="edit(Item)" class="btn btn-primary" data-toggle="tooltip" data-placement="top" tooltip title="{{\'tooltipModificar\' | translate}}" translate="btnlistModificar"></button><button type="button" data-ng-click="delete(Item)" class="btn btn-danger" data-toggle="tooltip" data-placement="top" tooltip title="{{\'tooltipEliminar\' | translate}}" translate="btnlistEliminar"></button></div>'}}).directive("buttonAdd",function(){return{restrict:"E",template:'<div class="col-sm-12" style="padding-bottom: 5px;"><button type="button" data-ng-click="showadd()" class="btn btn-primary btn-circle pull-right" translate="btnNuevo"></button></div>'}}).directive("dateFilter",["$rootScope","$timeout",function(e,t){return{restrict:"E",require:"ngModel",templateUrl:"../Vws/Template/DateFilter.html",scope:{method:"&",model:"=ngModel"},link:function(n,o){function r(e,t){a.find(".date-input").val(e);var n=a.find(".date-container");n.find(".month > .text").text(e.format("MMMM")),n.find(".year > .text").text(e.format("YYYY")),a.data("date",e.format("YYYY/MM/DD")),t&&s(e)}function i(e){return{month:parseInt(e.format("MM")),year:parseInt(e.format("YYYY")),date:e,dateFormat:e.format("YYYY/MM/DD")}}function s(e){null!==l&&(t.cancel(l),l=null),l=t(function(){n.$apply(function(){n.model=i(e)}),n.method()},2e3)}moment.locale(e.lang);var a=$(o),l=null;r(moment(),!0),a.on("click",'[data-toggle="datepicker"]',function(e){e.preventDefault();var t=moment($(this).closest(".date-picker").data("date"),"YYYY/MM/DD"),n=$(this).data("type")?$(this).data("type"):"date",o=$(this).data("method")?$(this).data("method"):"add";$(this).data("amt")&&$(this).data("amt");if("add"===o){var i=moment.duration(1,n);t=t.add(i)}else"subtract"===o&&(t=t.subtract(1,n));s(t),r(t,!1)})},replace:!0}}]).directive("fieldtxtForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view"},template:function(e,t){return JSON.parse(t.label||"true")?'<div class="form-group"><label for="txt'+t.name+'" class="col-sm-3 control-label" translate="txt'+t.name+'"></label><div class="col-sm-9" ng-hide="viewMode">'+(JSON.parse(t.inputgroup||"false")?'<div class="input-group"><span class="input-group-addon">'+("false"!==(t.icongroup||"false")?'<i class="'+t.icongroup+'" aria-hidden="true"></i>':t.textgroup?t.textgroup:"")+"</span>":"")+'<input id="txt'+t.name+'" name="txt'+t.name+'" type="'+(t.type||"text")+'" data-ng-model="model" class="form-control" placeholder="{{\'phd'+t.name+"' | translate | html}}\" "+(JSON.parse(t.required||"false")?"required":"")+" />"+(JSON.parse(t.inputgroup||"false")?"</div>":"")+'</div><div class="col-sm-9 txtView" ng-show="viewMode"><p> {{model}}</p></div></div>':'<div class="form-group"><div class="col-sm-12" ng-hide="viewMode">'+(JSON.parse(t.inputgroup||"false")?'<div class="input-group"><span class="input-group-addon">'+("false"!==(t.icongroup||"false")?'<i class="'+t.icongroup+'" aria-hidden="true"></i>':t.textgroup?t.textgroup:"")+"</span>":"")+'<input id="txt'+t.name+'" name="txt'+t.name+'" type="'+(t.type||"text")+'" data-ng-model="model" class="form-control" placeholder="{{\'phd'+t.name+"' | translate | html}}\" "+(JSON.parse(t.required||"false")?"required":"")+" />"+(JSON.parse(t.inputgroup||"false")?"</div>":"")+'</div><div class="col-sm-12" ng-show="viewMode"><p> {{model}}</p></div></div>'},replace:!0}}).directive("fieldcbx2Form",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view",listItems:"=list"},template:function(e,t){return JSON.parse(t.label||"true")?'<div class="form-group"><label for="cbx'+t.name+'" class="col-sm-3 control-label" translate="cbx'+t.name+'"></label><div class="col-sm-9" ng-hide="viewMode"><select ui-select2 data-placeholder="{{ \'SelectItem\' | translate }}" id="cbx'+t.name+'" name="cbx'+t.name+'" data-ng-model="model" class="form-control" ng-options="item.'+t.value+" as item."+t.text+' for item in listItems" '+(JSON.parse(t.required||"false")?"required":"")+'></select></div><div class="col-sm-9 txtView" ng-show="viewMode"><p> {{model}}</p></div></div>':'<div class="form-group"><div class="col-sm-12" ng-hide="viewMode"><select ui-select2 data-placeholder="{{ \'SelectItem\' | translate }}" id="cbx'+t.name+'" name="cbx'+t.name+'" data-ng-model="model" class="form-control" ng-options="item.'+t.value+" as item."+t.text+' for item in listItems" '+(JSON.parse(t.required||"false")?"required":"")+'></select></div><div class="col-sm-12" ng-show="viewMode"><p> {{model}}</p></div></div>'},replace:!0}}).directive("fieldcbxForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view",listItems:"=list"},template:function(e,t){return JSON.parse(t.label||"true")?'<div class="form-group"><label for="cbx'+t.name+'" class="col-sm-3 control-label" translate="cbx'+t.name+'"></label><div class="col-sm-9" ng-hide="viewMode"><select id="cbx'+t.name+'" name="cbx'+t.name+'" data-ng-model="model" class="form-control" ng-options="item.'+t.value+" as item."+t.text+' for item in listItems" '+(JSON.parse(t.required||"false")?"required":"")+">"+(JSON.parse(t.optiondefault||"true")?'<option value="" translate="SelectItem"></option>':"")+'</select></div><div class="col-sm-9 txtView" ng-show="viewMode"><p> {{model}}</p></div></div>':'<div class="form-group"><div class="col-sm-12" ng-hide="viewMode"><select id="cbx'+t.name+'" name="cbx'+t.name+'" data-ng-model="model" class="form-control" ng-options="item.'+t.value+" as item."+t.text+' for item in listItems" '+(JSON.parse(t.required||"false")?"required":"")+">"+(JSON.parse(t.optiondefault||"true")?'<option value="" translate="SelectItem"></option>':"")+'</select></div><div class="col-sm-12" ng-show="viewMode"><p> {{model}}</p></div></div>'},replace:!0}}).directive("fieldchkForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view"},template:function(e,t){return'<div class="form-group"><label class="col-sm-3 control-label" translate="chk'+t.name+'"></label><div class="col-sm-9" ng-show="!viewMode"><div class="material-switch txtView"><input id="chk'+t.name+'" name="chk'+t.name+'" type="checkbox" data-ng-model="model" '+(t.required?"required":"")+' /><label for="chk'+t.name+'" class="label-'+(t.type?t.type:"success")+'"></label></div></div><div class="col-sm-9 txtView" ng-show="viewMode"><my-state state="model"></my-state></div></div>'},replace:!0}}).directive("fieldchksnForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view"},template:function(e,t){return'<div class="form-group"><label class="col-sm-3 control-label" translate="chk'+t.name+'"></label><div class="col-sm-9 onoffswitch" ng-show="!viewMode"><input id="chk'+t.name+'" name="chk'+t.name+'" type="checkbox" class="onoffswitch-checkbox" data-ng-model="model" '+(t.required?"required":"")+' /><label class="onoffswitch-label" for="chk'+t.name+'"><div class="onoffswitch-inner"><div class="onoffswitch-active"><div class="onoffswitch-switch" translate="chkSi"></div></div><div class="onoffswitch-inactive"><div class="onoffswitch-switch" translate="chkNo"></div></div></div></label></div><div class="col-sm-9 txtView" ng-show="viewMode"><my-state state="model"></my-state></div></div>'},replace:!0}}).directive("fieldcodeForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view"},template:function(e,t){return'<div class="form-group" ng-show="viewMode"><label class="col-sm-3 control-label" translate="cd'+t.name+'"></label><div class="col-sm-9 txtView"><p>{{model | numberFixedLen:5}}</p></div></div>'},replace:!0}}).directive("fieldfileForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel"},template:function(e,t){return'<div class="input-group"><input id="uploadFile" type="text" class="form-control txtUpload" placeholder="{{\'phlFileUpload\' | translate}}" disabled="disabled" /><div class="fileUpload btn btn-primary input-group-btn"><span translate="fileUpload"></span><input type="file" file-model="model" class="upload" onchange="return ValExtPermitidas(this);" required /></div></div>'},replace:!0}}).directive("fieldtxtarForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view"},template:function(e,t){return JSON.parse(t.label||"true")?'<div class="form-group"><label for="txtar'+t.name+'" class="col-sm-3 control-label" translate="txt'+t.name+'"></label><div class="col-sm-9" ng-hide="viewMode"><textarea id="txtar'+t.name+'" name="txtar'+t.name+'" data-ng-model="model" class="form-control" placeholder="{{\'phd'+t.name+"' | translate | html}}\" "+(JSON.parse(t.required||"false")?"required":"")+'></textarea></div><div class="col-sm-9 txtView" ng-show="viewMode"><p> {{model}}</p></div></div>':'<div class="form-group"><div class="col-sm-12" ng-hide="viewMode"><textarea id="txtar'+t.name+'" name="txtar'+t.name+'" data-ng-model="model" class="form-control" placeholder="{{\'phd'+t.name+"' | translate | html}}\" "+(JSON.parse(t.required||"false")?"required":"")+'></textarea></div><div class="col-sm-12" ng-show="viewMode"><p> {{model}}</p></div></div>'},replace:!0}}).directive("fieldsmnForm",function(){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel",viewMode:"=view"},template:function(e,t){return JSON.parse(t.label||"true")?'<div class="form-group"><label for="smn'+t.name+'" class="col-sm-3 control-label" translate="txt'+t.name+'"></label><div class="col-sm-9" ng-hide="viewMode"><summernote id="smn'+t.name+'" name="smn'+t.name+'" data-ng-model="model" placeholder="{{\'phd'+t.name+"' | translate | html}}\" "+(JSON.parse(t.required||"false")?"required":"")+'></summernote></div><div class="col-sm-9 txtView" ng-show="viewMode"><p ng-bind-html="model"></p></div></div>':'<div class="form-group"><div class="col-sm-12" ng-hide="viewMode"><summernote id="smn'+t.name+'" name="smn'+t.name+'" data-ng-model="model" placeholder="{{\'phd'+t.name+"' | translate | html}}\" "+(JSON.parse(t.required||"false")?"required":"")+'></summernote></div><div class="col-sm-12" ng-show="viewMode"><p ng-bind-html="model"></p></div></div>'},replace:!0}}),app.factory("CRUDGeneric",["$http","apiServiceSettings",function(e,t){return{Init:function(e,t,n){e.Controller=n,e.viewMode=!1,e.ModeView=!1,e.OpenModal=function(n,o,r){void 0!==t&&t(n,!0,o,r),e.viewMode=void 0!==r&&r,e.editMode=o},e.get=function(t){e.OpenModal(t,!1,!0)},e.showadd=function(){e.OpenModal(null,!1)},e.edit=function(t){e.OpenModal(t,!0)},e.cancel=function(){void 0!==t&&t(null,!1)},e.ProcessResponse=function(t,n){void 0!==t.data.CodeResponse&&200===t.data.CodeResponse&&(void 0!==n&&n(t),e.cancel())}},getList:function(n){return e.get(t.apiServiceBaseUri+n+"/")},getItem:function(n,o){return e.get(t.apiServiceBaseUri+n+"/"+(void 0===o?"":o))},addItem:function(n,o){return e.post(t.apiServiceBaseUri+n+"/",o)},deleteItem:function(n,o){return e.delete(t.apiServiceBaseUri+n+"/"+o)},updateItem:function(n,o){return e.put(t.apiServiceBaseUri+n,o)},uploadFile:function(n,o){return e.post(t.apiServiceBaseUri+n+"/",o,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})},getPopUpHTML:function(n,o){e.get(t.apiServiceBaseUri+n+"/"+(void 0===o?"":o)).then(function(e){var t=window.open(" ","popimpr");t.document.write(e.data),t.document.close(),t.print(),t.close()})}}}]).factory("serviceLoadCbx",["CRUDGeneric",function(e){return{getDepartment:function(t){return e.getList("Department/GetDepartment").then(function(e){t(e.data)})},getCountry:function(t){return e.getList("Country/GetCountry").then(function(e){t(e.data)})},getUser:function(t){return e.getList("User/GetUser").then(function(e){t(e.data)})},getBank:function(t){return e.getList("Bank/GetBank").then(function(e){t(e.data)})},getFormatExcel:function(t){return e.getList("FormatExcel/GetFormatExcel").then(function(e){t(e.data)})},getFormatExcelDlle:function(t){return e.getList("FormatExcelDlle/GetFormatExcelDlle").then(function(e){t(e.data)})},getUserAgency:function(t){return e.getList("UserAgency/GetUserAgency").then(function(e){t(e.data)})},getMessages:function(t){return e.getList("Messages/GetMessages").then(function(e){t(e.data)})},getProfile:function(t){return e.getList("Profile/GetProfile").then(function(e){t(e.data)})},getResourceAction:function(t){return e.getList("ResourceAction/GetResourceAction").then(function(e){t(e.data)})},getResourceMain:function(t){return e.getList("ResourceMain/GetResourceMain").then(function(e){t(e.data)})},getResource:function(t){return e.getList("Resource/GetResource").then(function(e){t(e.data)})},getAction:function(t){return e.getList("Action/GetAction").then(function(e){t(e.data)})},getTypeUser:function(t){return e.getList("TypeUser/GetTypeUser").then(function(e){t(e.data)})},getTypeIdentification:function(t){return e.getList("TypeIdentification/GetTypeIdentification").then(function(e){t(e.data)})},getCity:function(t){return e.getList("City/GetCity").then(function(e){t(e.data)})},getTypeAccountBank:function(t){return e.getList("TypeAccountBank/GetTypeAccountBank").then(function(e){t(e.data)})},getRegimen:function(t){return e.getList("Regimen/GetRegimen").then(function(e){t(e.data)})},getUserLegal:function(t){return e.getList("UserLegal/GetUserLegal").then(function(e){t(e.data)})},getUserFile:function(t){return e.getList("UserFile/GetUserFile").then(function(e){t(e.data)})},getGender:function(t){return e.getList("Gender/GetGender").then(function(e){t(e.data)})},getCivilStatus:function(t){return e.getList("CivilStatus/GetCivilStatus").then(function(e){t(e.data)})},getARL:function(t){return e.getList("ARL/GetARL").then(function(e){t(e.data)})},getEPS:function(t){return e.getList("EPS/GetEPS").then(function(e){t(e.data)})},getPension:function(t){return e.getList("Pension/GetPension").then(function(e){t(e.data)})},getCesantias:function(t){return e.getList("Cesantias/GetCesantias").then(function(e){t(e.data)})},getUserConcesionarios:function(t){return e.getList("User/GetUserConcesionarios").then(function(e){t(e.data)})},getUserVendedores:function(t){return e.getList("User/GetUserVendedores").then(function(e){t(e.data)})},getTypeIdentificationTypeUser:function(t,n){return e.getList("TypeIdentification/GetTypeIdentification/"+n).then(function(e){t(e.data)})},getUserFileTypeUser:function(t,n){return e.getList("UserFile/GetUserFile/"+n).then(function(e){t(e.data)})}}}]),app.filter("numberFixedLen",function(){return function(e,t){var n=parseInt(e,10);if(t=parseInt(t,10),isNaN(n)||isNaN(t))return e;for(n=""+n;n.length<t;)n="0"+n;return n}}).filter("html",function(){return function(e){if(null!==$.parseHTML(e)&&$.parseHTML(e).length>0&&void 0!==$.parseHTML(e)[0].data)return $.parseHTML(e)[0].data}}),app.controller("accountController",["$scope","$routeParams","CRUDGeneric","authService","$location",function(e,t,n,o,r){e.parameterPage={},e.MostarMensajeRepresentanteLegal=!1,e.Init=function(){e.parameterPage.TypePage=parseInt(t.TypePage),e.parameterPage.ID=t.ID,1===e.parameterPage.TypePage?n.getItem("Account/ValidEmailUser",e.parameterPage.ID).then(function(t){void 0!==t.data.CodeResponse&&200===t.data.CodeResponse&&(e.loginData={userName:t.data.Response.Identification,password:t.data.Response.Password,useRefreshTokens:!0},void 0!==t.data.Response.IdentificationConcesionario&&(e.loginData.userName+="|"+t.data.Response.IdentificationConcesionario),o.login(e.loginData).then(function(e){"true"===e.data.approved.toLowerCase()?($rootScope.IsAuthenticated=!0,r.path("/Main")):r.path("/SignIn")}))}):2===e.parameterPage.TypePage&&n.getItem("Account/ValidEmailUserLegal",e.parameterPage.ID).then(function(t){void 0!==t.data.CodeResponse&&200===t.data.CodeResponse&&(e.MostarMensajeRepresentanteLegal=!0)})},e.Init()}]),app.controller("ActionController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Action=[],e.ItemAction=null,t.Init(e,function(t,n){e.ItemAction=JSON.parse(JSON.stringify(t)),n?$("#ModelAction").modal("show"):$("#ModelAction").modal("hide")},"Action"),e.add=function(){t.addItem(e.Controller,e.ItemAction).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemAction).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ActionID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Action=t.data})},e.List()}]),app.controller("ApplicationController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Application=[],e.ItemApplication=null,t.Init(e,function(t,n){e.ItemApplication=JSON.parse(JSON.stringify(t)),n?$("#ModelApplication").modal("show"):$("#ModelApplication").modal("hide")},"Application"),e.add=function(){t.addItem(e.Controller,e.ItemApplication).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemApplication).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ApplicationID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Application=t.data})},e.List()}]),app.controller("ARLController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.ARL=[],e.ItemARL=null,t.Init(e,function(t,n){e.ItemARL=JSON.parse(JSON.stringify(t)),n?$("#ModelARL").modal("show"):$("#ModelARL").modal("hide")},"ARL"),e.add=function(){t.addItem(e.Controller,e.ItemARL).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemARL).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ARLID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.ARL=t.data})},e.List()}]),app.controller("BankController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Bank=[],e.ItemBank=null,t.Init(e,function(t,n){e.ItemBank=JSON.parse(JSON.stringify(t)),n?$("#ModelBank").modal("show"):$("#ModelBank").modal("hide")},"Bank"),e.add=function(){t.addItem(e.Controller,e.ItemBank).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemBank).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.BankID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Bank=t.data})},e.List()}]),app.controller("CesantiasController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Cesantias=[],e.ItemCesantias=null,t.Init(e,function(t,n){e.ItemCesantias=JSON.parse(JSON.stringify(t)),n?$("#ModelCesantias").modal("show"):$("#ModelCesantias").modal("hide")},"Cesantias"),e.add=function(){t.addItem(e.Controller,e.ItemCesantias).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemCesantias).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.CesantiasID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Cesantias=t.data})},e.List()}]),app.controller("CityController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.City=[],e.ItemCity=null,t.Init(e,function(t,n){e.ItemCity=JSON.parse(JSON.stringify(t)),n?$("#ModelCity").modal("show"):$("#ModelCity").modal("hide")},"City"),e.add=function(){t.addItem(e.Controller,e.ItemCity).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemCity).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.CityID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.City=t.data})},e.List(),o.getDepartment(function(t){e.Department=t})}]),app.controller("CivilStatusController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.CivilStatus=[],e.ItemCivilStatus=null,t.Init(e,function(t,n){e.ItemCivilStatus=JSON.parse(JSON.stringify(t)),n?$("#ModelCivilStatus").modal("show"):$("#ModelCivilStatus").modal("hide")},"CivilStatus"),e.add=function(){t.addItem(e.Controller,e.ItemCivilStatus).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemCivilStatus).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.CivilStatusID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.CivilStatus=t.data})},e.List()}]),app.controller("CountryController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Country=[],e.ItemCountry=null,t.Init(e,function(t,n){e.ItemCountry=JSON.parse(JSON.stringify(t)),n?$("#ModelCountry").modal("show"):$("#ModelCountry").modal("hide")},"Country"),e.add=function(){t.addItem(e.Controller,e.ItemCountry).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemCountry).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.CountryID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Country=t.data})},e.List()}]),app.controller("DepartmentController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Department=[],e.ItemDepartment=null,t.Init(e,function(t,n){e.ItemDepartment=JSON.parse(JSON.stringify(t)),n?$("#ModelDepartment").modal("show"):$("#ModelDepartment").modal("hide")},"Department"),e.add=function(){t.addItem(e.Controller,e.ItemDepartment).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemDepartment).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.DepartmentID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Department=t.data})},e.List(),o.getCountry(function(t){e.Country=t})}]),app.controller("EPSController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.EPS=[],e.ItemEPS=null,t.Init(e,function(t,n){e.ItemEPS=JSON.parse(JSON.stringify(t)),n?$("#ModelEPS").modal("show"):$("#ModelEPS").modal("hide")},"EPS"),e.add=function(){t.addItem(e.Controller,e.ItemEPS).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemEPS).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.EPSID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.EPS=t.data})},e.List()}]),app.controller("FormatExcelController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.FormatExcel=[],e.ItemFormatExcel=null,t.Init(e,function(t,n){e.ItemFormatExcel=JSON.parse(JSON.stringify(t)),n?$("#ModelFormatExcel").modal("show"):$("#ModelFormatExcel").modal("hide")},"FormatExcel"),e.add=function(){t.addItem(e.Controller,e.ItemFormatExcel).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemFormatExcel).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.FormatExcelID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.FormatExcel=t.data})},e.List(),o.getUser(function(t){e.User=t}),o.getBank(function(t){e.Bank=t})}]),app.controller("FormatExcelDlleController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.FormatExcelDlle=[],e.ItemFormatExcelDlle=null,t.Init(e,function(t,n){e.ItemFormatExcelDlle=JSON.parse(JSON.stringify(t)),n?$("#ModelFormatExcelDlle").modal("show"):$("#ModelFormatExcelDlle").modal("hide")},"FormatExcelDlle"),e.add=function(){t.addItem(e.Controller,e.ItemFormatExcelDlle).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemFormatExcelDlle).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.FormatExcelDlleID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.FormatExcelDlle=t.data})},e.List(),o.getFormatExcel(function(t){e.FormatExcel=t})}]),app.controller("FormatExcelDlleUserController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.FormatExcelDlleUser=[],e.ItemFormatExcelDlleUser=null,t.Init(e,function(t,n){e.ItemFormatExcelDlleUser=JSON.parse(JSON.stringify(t)),n?$("#ModelFormatExcelDlleUser").modal("show"):$("#ModelFormatExcelDlleUser").modal("hide")},"FormatExcelDlleUser"),e.add=function(){t.addItem(e.Controller,e.ItemFormatExcelDlleUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemFormatExcelDlleUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.FormatExcelDlleUserID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.FormatExcelDlleUser=t.data})},e.List(),o.getFormatExcelDlle(function(t){e.FormatExcelDlle=t}),o.getUser(function(t){e.User=t}),o.getUserAgency(function(t){e.UserAgency=t})}]),app.controller("FormatsFisaPayController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.FormatsFisaPay=[],e.ItemFormatsFisaPay=null,t.Init(e,function(t,n){e.ItemFormatsFisaPay=JSON.parse(JSON.stringify(t)),n?$("#ModelFormatsFisaPay").modal("show"):$("#ModelFormatsFisaPay").modal("hide")},"FormatsFisaPay"),e.add=function(){t.addItem(e.Controller,e.ItemFormatsFisaPay).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemFormatsFisaPay).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.FormatsFisaPayID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.FormatsFisaPay=t.data})},e.List()}]),app.controller("GenderController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Gender=[],e.ItemGender=null,t.Init(e,function(t,n){e.ItemGender=JSON.parse(JSON.stringify(t)),n?$("#ModelGender").modal("show"):$("#ModelGender").modal("hide")},"Gender"),e.add=function(){t.addItem(e.Controller,e.ItemGender).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemGender).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.GenderID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Gender=t.data})},e.List()}]),app.controller("MessagesController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Messages=[],e.ItemMessages=null,t.Init(e,function(t,n){e.ItemMessages=JSON.parse(JSON.stringify(t)),n?$("#ModelMessages").modal("show"):$("#ModelMessages").modal("hide")},"Messages"),e.add=function(){t.addItem(e.Controller,e.ItemMessages).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemMessages).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.MessagesID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Messages=t.data})},e.List(),o.getUser(function(t){e.User=t})}]),app.controller("NotificationController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Notification=[],e.ItemNotification=null,t.Init(e,function(t,n){e.ItemNotification=JSON.parse(JSON.stringify(t)),n?$("#ModelNotification").modal("show"):$("#ModelNotification").modal("hide")},"Notification"),e.add=function(){t.addItem(e.Controller,e.ItemNotification).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemNotification).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.NotificationID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Notification=t.data})},e.List()}]),app.controller("NotificationsPendingController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.NotificationsPending=[],e.ItemNotificationsPending=null,t.Init(e,function(t,n){e.ItemNotificationsPending=JSON.parse(JSON.stringify(t)),n?$("#ModelNotificationsPending").modal("show"):$("#ModelNotificationsPending").modal("hide")},"NotificationsPending"),e.add=function(){t.addItem(e.Controller,e.ItemNotificationsPending).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemNotificationsPending).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.NotificationsPendingID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.NotificationsPending=t.data})},e.List(),o.getMessages(function(t){e.Messages=t})}]),app.controller("ParameterController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Parameter=[],e.ItemParameter=null,t.Init(e,function(t,n){e.ItemParameter=JSON.parse(JSON.stringify(t)),n?$("#ModelParameter").modal("show"):$("#ModelParameter").modal("hide")},"Parameter"),e.add=function(){t.addItem(e.Controller,e.ItemParameter).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemParameter).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ParameterID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Parameter=t.data})},e.List()}]),app.controller("ParameterHTMLController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.ParameterHTML=[],e.ItemParameterHTML=null,t.Init(e,function(t,n){e.ItemParameterHTML=JSON.parse(JSON.stringify(t)),n?$("#ModelParameterHTML").modal("show"):$("#ModelParameterHTML").modal("hide")},"ParameterHTML"),e.add=function(){t.addItem(e.Controller,e.ItemParameterHTML).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemParameterHTML).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ParameterHTMLID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.ParameterHTML=t.data})},e.List()}]),app.controller("PensionController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Pension=[],e.ItemPension=null,t.Init(e,function(t,n){e.ItemPension=JSON.parse(JSON.stringify(t)),n?$("#ModelPension").modal("show"):$("#ModelPension").modal("hide")},"Pension"),e.add=function(){t.addItem(e.Controller,e.ItemPension).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemPension).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.PensionID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Pension=t.data})},e.List()}]),app.controller("ProfileController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Profile=[],e.ItemProfile=null,t.Init(e,function(t,n){e.ItemProfile=JSON.parse(JSON.stringify(t)),n?$("#ModelProfile").modal("show"):$("#ModelProfile").modal("hide")},"Profile"),e.add=function(){t.addItem(e.Controller,e.ItemProfile).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemProfile).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ProfileID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Profile=t.data})},e.List()}]),app.controller("ProfileResourceActionController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.ProfileResourceAction=[],e.ItemProfileResourceAction=null,t.Init(e,function(t,n){e.ItemProfileResourceAction=JSON.parse(JSON.stringify(t)),n?$("#ModelProfileResourceAction").modal("show"):$("#ModelProfileResourceAction").modal("hide")},"ProfileResourceAction"),e.add=function(){t.addItem(e.Controller,e.ItemProfileResourceAction).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemProfileResourceAction).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ProfileResourceActionID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.ProfileResourceAction=t.data})},e.List(),o.getProfile(function(t){e.Profile=t}),o.getResourceAction(function(t){e.ResourceAction=t})}]),app.controller("ProfileResourceMainController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.ProfileResourceMain=[],e.ItemProfileResourceMain=null,t.Init(e,function(t,n){e.ItemProfileResourceMain=JSON.parse(JSON.stringify(t)),n?$("#ModelProfileResourceMain").modal("show"):$("#ModelProfileResourceMain").modal("hide")},"ProfileResourceMain"),e.add=function(){t.addItem(e.Controller,e.ItemProfileResourceMain).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemProfileResourceMain).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ProfileResourceMainID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.ProfileResourceMain=t.data})},e.List(),o.getProfile(function(t){e.Profile=t}),o.getResourceMain(function(t){e.ResourceMain=t})}]),app.controller("RefreshTokensController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.RefreshTokens=[],e.ItemRefreshTokens=null,t.Init(e,function(t,n){e.ItemRefreshTokens=JSON.parse(JSON.stringify(t)),n?$("#ModelRefreshTokens").modal("show"):$("#ModelRefreshTokens").modal("hide")},"RefreshTokens"),e.add=function(){t.addItem(e.Controller,e.ItemRefreshTokens).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemRefreshTokens).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.RefreshTokensID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.RefreshTokens=t.data})},e.List()}]),app.controller("RegimenController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Regimen=[],e.ItemRegimen=null,t.Init(e,function(t,n){e.ItemRegimen=JSON.parse(JSON.stringify(t)),n?$("#ModelRegimen").modal("show"):$("#ModelRegimen").modal("hide")},"Regimen"),e.add=function(){t.addItem(e.Controller,e.ItemRegimen).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemRegimen).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.RegimenID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Regimen=t.data})},e.List()}]),app.controller("ResourceController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Resource=[],e.ItemResource=null,t.Init(e,function(t,n){e.ItemResource=JSON.parse(JSON.stringify(t)),n?$("#ModelResource").modal("show"):$("#ModelResource").modal("hide")},"Resource"),e.add=function(){t.addItem(e.Controller,e.ItemResource).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemResource).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ResourceID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Resource=t.data})},e.List()}]),app.controller("ResourceActionController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.ResourceAction=[],e.ItemResourceAction=null,t.Init(e,function(t,n){e.ItemResourceAction=JSON.parse(JSON.stringify(t)),n?$("#ModelResourceAction").modal("show"):$("#ModelResourceAction").modal("hide")},"ResourceAction"),e.add=function(){t.addItem(e.Controller,e.ItemResourceAction).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemResourceAction).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ResourceActionID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.ResourceAction=t.data})},e.List(),o.getResource(function(t){e.Resource=t}),o.getAction(function(t){e.Action=t})}]),app.controller("ResourceMainController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.ResourceMain=[],e.ItemResourceMain=null,t.Init(e,function(t,n){e.ItemResourceMain=JSON.parse(JSON.stringify(t)),n?$("#ModelResourceMain").modal("show"):$("#ModelResourceMain").modal("hide")},"ResourceMain"),e.add=function(){t.addItem(e.Controller,e.ItemResourceMain).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemResourceMain).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ResourceMainID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.ResourceMain=t.data})},e.List()}]),app.controller("ServicesController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.Services=[],e.ItemServices=null,t.Init(e,function(t,n){e.ItemServices=JSON.parse(JSON.stringify(t)),n?$("#ModelServices").modal("show"):$("#ModelServices").modal("hide")},"Services"),e.add=function(){t.addItem(e.Controller,e.ItemServices).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemServices).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.ServicesID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.Services=t.data})},e.List()}]),app.controller("TextHelpController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.TextHelp=[],e.ItemTextHelp=null,t.Init(e,function(t,n){e.ItemTextHelp=JSON.parse(JSON.stringify(t)),n?$("#ModelTextHelp").modal("show"):$("#ModelTextHelp").modal("hide")},"TextHelp"),e.add=function(){t.addItem(e.Controller,e.ItemTextHelp).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemTextHelp).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.TextHelpID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.TextHelp=t.data})},e.List()}]),app.controller("TypeAccountBankController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.TypeAccountBank=[],e.ItemTypeAccountBank=null,t.Init(e,function(t,n){e.ItemTypeAccountBank=JSON.parse(JSON.stringify(t)),n?$("#ModelTypeAccountBank").modal("show"):$("#ModelTypeAccountBank").modal("hide")},"TypeAccountBank"),e.add=function(){t.addItem(e.Controller,e.ItemTypeAccountBank).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemTypeAccountBank).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.TypeAccountBankID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.TypeAccountBank=t.data})},e.List()}]),app.controller("TypeIdentificationController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.TypeIdentification=[],e.ItemTypeIdentification=null,t.Init(e,function(t,n){e.ItemTypeIdentification=JSON.parse(JSON.stringify(t)),n?$("#ModelTypeIdentification").modal("show"):$("#ModelTypeIdentification").modal("hide")},"TypeIdentification"),e.add=function(){t.addItem(e.Controller,e.ItemTypeIdentification).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemTypeIdentification).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.TypeIdentificationID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.TypeIdentification=t.data})},e.List(),o.getTypeUser(function(t){e.TypeUser=t})}]),app.controller("TypeUserController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.TypeUser=[],e.ItemTypeUser=null,t.Init(e,function(t,n){e.ItemTypeUser=JSON.parse(JSON.stringify(t)),n?$("#ModelTypeUser").modal("show"):$("#ModelTypeUser").modal("hide")},"TypeUser"),e.add=function(){t.addItem(e.Controller,e.ItemTypeUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemTypeUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.TypeUserID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.TypeUser=t.data})},e.List()}]),app.controller("UserController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.User=[],e.ItemUser=null,t.Init(e,function(t,n){e.ItemUser=JSON.parse(JSON.stringify(t)),n?$("#ModelUser").modal("show"):$("#ModelUser").modal("hide")},"User"),e.add=function(){t.addItem(e.Controller,e.ItemUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.UserID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.User=t.data})},e.List(),o.getTypeUser(function(t){e.TypeUser=t}),o.getTypeIdentification(function(t){e.TypeIdentification=t}),o.getCity(function(t){e.City=t}),o.getBank(function(t){e.Bank=t}),o.getTypeAccountBank(function(t){e.TypeAccountBank=t}),o.getRegimen(function(t){e.Regimen=t}),o.getProfile(function(t){e.Profile=t})}]),app.controller("UserAgencyController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.UserAgency=[],e.ItemUserAgency=null,t.Init(e,function(t,n){e.ItemUserAgency=JSON.parse(JSON.stringify(t)),n?$("#ModelUserAgency").modal("show"):$("#ModelUserAgency").modal("hide")},"UserAgency"),e.add=function(){t.addItem(e.Controller,e.ItemUserAgency).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemUserAgency).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.UserAgencyID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.UserAgency=t.data})},e.List(),o.getUserLegal(function(t){e.UserLegal=t}),o.getCity(function(t){e.City=t}),o.getBank(function(t){e.Bank=t}),o.getTypeAccountBank(function(t){e.TypeAccountBank=t})}]),app.controller("UserAgencyAdmonController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.UserAgencyAdmon=[],e.ItemUserAgencyAdmon=null,t.Init(e,function(t,n){e.ItemUserAgencyAdmon=JSON.parse(JSON.stringify(t)),n?$("#ModelUserAgencyAdmon").modal("show"):$("#ModelUserAgencyAdmon").modal("hide")},"UserAgencyAdmon"),e.add=function(){t.addItem(e.Controller,e.ItemUserAgencyAdmon).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemUserAgencyAdmon).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.UserAgencyAdmonID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.UserAgencyAdmon=t.data})},e.List(),o.getUserAgency(function(t){e.UserAgency=t}),o.getTypeIdentification(function(t){e.TypeIdentification=t}),o.getProfile(function(t){e.Profile=t})}]),app.controller("UserFileController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.UserFile=[],e.ItemUserFile=null,t.Init(e,function(t,n){e.ItemUserFile=JSON.parse(JSON.stringify(t)),n?$("#ModelUserFile").modal("show"):$("#ModelUserFile").modal("hide")},"UserFile"),e.add=function(){t.addItem(e.Controller,e.ItemUserFile).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemUserFile).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.UserFileID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.UserFile=t.data})},e.List(),o.getTypeUser(function(t){e.TypeUser=t})}]),app.controller("UserFileXUserController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.UserFileXUser=[],e.ItemUserFileXUser=null,t.Init(e,function(t,n){e.ItemUserFileXUser=JSON.parse(JSON.stringify(t)),n?$("#ModelUserFileXUser").modal("show"):$("#ModelUserFileXUser").modal("hide")},"UserFileXUser"),e.add=function(){t.addItem(e.Controller,e.ItemUserFileXUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemUserFileXUser).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.UserFileXUserID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.UserFileXUser=t.data})},e.List(),o.getUserFile(function(t){e.UserFile=t}),o.getUser(function(t){e.User=t})}]),app.controller("UserLegalController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.UserLegal=[],e.ItemUserLegal=null,t.Init(e,function(t,n){e.ItemUserLegal=JSON.parse(JSON.stringify(t)),n?$("#ModelUserLegal").modal("show"):$("#ModelUserLegal").modal("hide")},"UserLegal"),e.add=function(){t.addItem(e.Controller,e.ItemUserLegal).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemUserLegal).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.UserLegalID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.UserLegal=t.data})},e.List(),o.getUser(function(t){e.User=t}),o.getTypeIdentification(function(t){e.TypeIdentification=t})}]),app.controller("UserNaturalController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.UserNatural=[],e.ItemUserNatural=null,t.Init(e,function(t,n){e.ItemUserNatural=JSON.parse(JSON.stringify(t)),n?$("#ModelUserNatural").modal("show"):$("#ModelUserNatural").modal("hide")},"UserNatural"),e.add=function(){t.addItem(e.Controller,e.ItemUserNatural).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemUserNatural).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.UserNaturalID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.UserNatural=t.data})},e.List(),o.getUser(function(t){e.User=t}),o.getGender(function(t){e.Gender=t}),o.getCivilStatus(function(t){e.CivilStatus=t}),o.getARL(function(t){e.ARL=t}),o.getEPS(function(t){e.EPS=t}),o.getPension(function(t){e.Pension=t}),o.getCesantias(function(t){e.Cesantias=t})}]),app.controller("vwLoginController",["$scope","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o){e.vwLogin=[],e.ItemvwLogin=null,t.Init(e,function(t,n){e.ItemvwLogin=JSON.parse(JSON.stringify(t)),n?$("#ModelvwLogin").modal("show"):$("#ModelvwLogin").modal("hide")},"vwLogin"),e.add=function(){t.addItem(e.Controller,e.ItemvwLogin).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.update=function(){t.updateItem(e.Controller,e.ItemvwLogin).then(function(t){e.ProcessResponse(t,function(){e.List()})})},e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem(e.Controller,o.vwLoginID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.vwLogin=t.data})},e.List()}]),app.controller("FormatExcelAdmin",["$scope","CRUDGeneric","$translate","serviceLoadCbx","Enumerations","authService","$location",function(e,t,n,o,r,i,s){e.EsAdmin=!1,e.FormatExcel=[],e.ItemFormatExcel=null,t.Init(e,function(t,n){e.ItemFormatExcel=JSON.parse(JSON.stringify(t)),n?$("#ModelFormatExcel").modal("show"):$("#ModelFormatExcel").modal("hide")},"FormatExcel"),e.delete=function(o){n("MsjEliminar").then(function(n){bootbox.confirm(n,function(n){n&&t.deleteItem("FormatExcel/EliminarCargue",o.FormatExcelID).then(function(t){e.ProcessResponse(t,function(){e.List()})})})})},e.List=function(){t.getList(e.Controller).then(function(t){e.FormatExcel=t.data})},e.AbrirDetalle=function(e){s.path("/FormatExcelDlleAdmin/"+e)},e.inicializarUsuario=function(){i.fillAuthData(),i.authentication.userProfile==r.Profiles.Administrador&&(e.EsAdmin=!0)},e.List(),e.inicializarUsuario(),o.getUser(function(t){e.User=t}),o.getBank(function(t){e.Bank=t})}]),app.controller("FormatExcelDlleAdmin",["$scope","$routeParams","CRUDGeneric","$translate","serviceLoadCbx",function(e,t,n,o,r){e.FormatExcelDlle=[],e.ItemFormatExcelDlle=null,e.Totales={},e.CalcularTotales=function(){for(var t=e.FormatExcelDlle,n={Total:0,ValorTotalComisionCredito:0,ValorComisionCreditoConcesionario:0,ValorComisionCreditoVendedor:0,ValorComisionCredito:0,ValorComisionSeguroAuto:0,ValorComisionSeguroAutoConcesionario:0,ValorComisionSeguroAutoVendedor:0,ValorTotalAPagar:0,ValorImpuestoAVentas:0,ValorImpuestoGravamenFinanciero:0,ValorTotalFISApay:0,ValorCredito:0},o=0;o<t.length;o++)n.Total+=1,n.ValorTotalComisionCredito+=parseInt(t[o].ValueCommission),n.ValorComisionCreditoConcesionario+=parseInt(t[o].ValueCommissionConsecionario),n.ValorComisionCreditoVendedor+=parseInt(t[o].ValueCommissionVendedor),n.ValorComisionCredito+=parseInt(t[o].ValueCommission),n.ValorComisionSeguroAuto+=parseInt(t[o].ValueCommissionSeguro),n.ValorComisionSeguroAutoConcesionario+=parseInt(t[o].ValueCommissionConsecionarioSeguro),n.ValorComisionSeguroAutoVendedor+=parseInt(t[o].ValueCommissionVendedorSeguro),n.ValorTotalAPagar+=parseInt(t[o].ValueCommissionTotal),n.ValorImpuestoAVentas+=parseInt(t[o].ValueOfSalesTax),n.ValorImpuestoGravamenFinanciero+=parseInt(t[o].ValueOfTaxesRecoveryFinancialMovement),n.ValorTotalFISApay+=parseInt(t[o].ValueFisaPay),n.ValorCredito+=parseInt(t[o].ValueCredit);e.Totales=n},e.List=function(){n.getList("FormatExcelDlle/GetFormatExcelDlle/"+t.FormatExcelID).then(function(t){e.FormatExcelDlle=t.data,e.CalcularTotales()})},e.List(),r.getFormatExcel(function(t){e.FormatExcel=t})}]),app.controller("homeController",["$scope","$rootScope","CRUDGeneric","authService",function(e,t,n,o){t.IsAuthenticated=!1,o.logOut()}]),app.controller("indexController",["$scope","CRUDGeneric","$location","authService",function(e,t,n,o){e.Menu=[],e.User={},e.CargarMenu=function(){t.getList("UserPermissions/getMenu").then(function(t){e.Menu=t.data.Response})},e.CerrarSesion=function(){o.logOut(),n.path("/")},o.fillAuthData(),e.User=o.authentication.User,e.CargarMenu()}]),app.controller("loginController",["$scope","$rootScope","$routeParams","$translate","CRUDGeneric","serviceLoadCbx","$location","authService","Enumerations",function(e,t,n,o,r,i,s,a,l){t.IsAuthenticated=!1,a.logOut(),e.InitObj=function(){e.ItemReset={},e.ItemUser={},e.ItemUser.Active=!0,e.ItemUser.Locked=!1,e.ItemUser.Approved=!1,e.ItemUser.Complete=!1,e.ItemUser.TypeUserID=parseInt(n.TypeUser),e.ItemUser.TypeUserID!==l.TypeUser.PersonaNatural&&(e.ItemUser.TypeUserID=l.TypeUser.PersonaJuridica),e.msgTexto="",o("Type"+e.ItemUser.TypeUserID).then(function(t){e.msgTexto=t}),e.loginData={userName:"",userNameCC:"",userNameNit:"",password:"",useRefreshTokens:!0},e.ItemReset.TipoUser=e.ItemUser.TypeUserID},e.InitObj(),e.ViewConfig=function(t){t>=2&&(void 0!==e.TypeIdentification&&void 0!==e.HelpFinally||(i.getTypeIdentificationTypeUser(function(t){e.TypeIdentification=t,1===e.ItemUser.TypeUserID?e.ItemUser.TypeIdentificationID=1:e.ItemUser.TypeIdentificationID=2},e.ItemUser.TypeUserID),e.ItemUser.TypeUserID!==l.TypeUser.PersonaNatural&&i.getTypeIdentificationTypeUser(function(t){e.TypeIdentificationPN=t,e.ItemUser.ItemUserAgencyAdmon={},e.ItemUser.ItemUserAgencyAdmon.TypeIdentificationID=1},l.TypeUser.PersonaNatural),r.getItem("TextHelp/GetTextHelp",5).then(function(t){e.HelpFinally=t.data}))),e.Views=t},e.Login=function(){e.ItemUser.TypeUserID!==l.TypeUser.PersonaNatural?e.loginData.userName=e.loginData.userNameCC+"|"+e.loginData.userNameNit:e.loginData.userName=e.loginData.userNameCC,a.login(e.loginData).then(function(e){"true"===e.data.approved.toLowerCase()?(t.IsAuthenticated=!0,s.path("/Main")):s.path("/SignIn")})},e.RestablecerPss=function(){r.addItem("Account/RestablecerPassword",e.ItemReset).then(function(e){void 0!==e.data.CodeResponse&&e.data.CodeResponse})},e.Register=function(){r.addItem("User/SaveComplete",{User:e.ItemUser,UserNatural:e.ItemUser.UserNatural,UserAgency:e.ItemUser.ItemUserAgency,UserAgencyAdmon:e.ItemUser.ItemUserAgencyAdmon}).then(function(t){void 0!==t.data.CodeResponse&&200===t.data.CodeResponse&&(e.ItemUser.TypeUserID===l.TypeUser.PersonaNatural?(e.loginData.userNameCC=e.ItemUser.Identification,e.loginData.password=e.ItemUser.Password):(e.loginData.userNameNit=e.ItemUser.Identification,e.loginData.userNameCC=e.ItemUser.ItemUserAgencyAdmon.Identification,e.loginData.password=e.ItemUser.ItemUserAgencyAdmon.Password),e.Views=3)})},e.Ingresar=function(){e.Login(),e.InitObj()}}]),app.controller("mainController",["$scope","CRUDGeneric","$location","$filter","authService","Enumerations",function(e,t,n,o,r,i){e.viewPrint=!1,e.viewShow=0,e.ActivarVista=function(t){1===t&&e.InitUser(),3===t&&n.path("/UploadDialy"),e.viewShow=t},e.ValidarUsuario=function(e){n.path("/ManageUser/1/"+e.UserID)},e.getHeader=function(){return["No.","ID Pel.","Cust ID","Meter SN","Readingpoint","Last Dial","Status"]},e.InitUser=function(){t.getList("/User/ListUsers").then(function(t){e.CountUserNatural=t.data.PersonaNatural.length,e.UserPendientesA=o("filter")(t.data.PersonaNatural,{Complete:!0,Approved:!1}),e.UserPendientesC=o("filter")(t.data.PersonaNatural,{Complete:!1}),e.UserActivos=o("filter")(t.data.PersonaNatural,{Complete:!0,Approved:!0}),e.CountUserJuridica=t.data.PersonaJuridica.length,e.UserPendientesJuridicaA=o("filter")(t.data.PersonaJuridica,{Complete:!0,Approved:!1}),e.UserPendientesJuridicaC=o("filter")(t.data.PersonaJuridica,{Complete:!1}),e.UserActivosJuridica=o("filter")(t.data.PersonaJuridica,{Complete:!0,Approved:!0})})},e.inicializarVistas=function(){r.fillAuthData(),e.UserProfile=r.authentication.userProfile,e.viewShow=0},e.VerVista=function(t){if(e.UserProfile===i.Profiles.Administrador)return!0;switch(t){case 1:if(e.UserProfile===i.Profiles.Administrador_FisaPay)return!0;break;case 2:if(e.UserProfile===i.Profiles.Vendedor)return!0;break;case 3:if(e.UserProfile===i.Profiles.Usuario_Financiera)return!0;break;case 4:if(e.UserProfile===i.Profiles.Vendedor||e.UserProfile===i.Profiles.Concesionario)return!0;break;default:return!1}return!1},e.generarReporte=function(e){t.getPopUpHTML("FormatsFisaPay/GetFormatFisaPay/"+e)},e.inicializarVistas()}]),app.controller("manageformatexcelController",["$scope","CRUDGeneric","$location",function(e,t,n){e.FormatExcel=[],e.List=function(){t.getList("FormatExcel").then(function(t){e.FormatExcel=t.data})},e.getHeader=function(){return["Nombre del Vendedor","Apellidos del Vendedor","Número de Cédula de Ciudadania","Comisión del Vendedor por el Crédito (En Pesos)","Negocio con Seguro Auto Marque con una X","Comisión del Vendedor por seguro Auto (En Pesos)","Valor Total a Pagar (Credito + Seg. Auto)"]},e.getHeaderLegal=function(){return["Nombre","Identificación","Comisión por el Crédito (En Pesos)","Negocio con Seguro Auto Marque con una X","Comisión por seguro Auto (En Pesos)","Valor Total a Pagar (Credito + Seg. Auto)"]},e.FormatExcelPlanillas=function(e,n){return n?t.getList("FormatExcelDlleUser/GetFormatExcelPlanillas/"+e.FormatExcelID).then(function(e){return e.data}):t.getList("FormatExcelDlleUser/GetFormatExcelLegal/"+e.FormatExcelID).then(function(e){return e.data})},e.OpenPlanillas=function(e){n.path("/Planilla/"+e.FormatExcelID)},e.List()}]).controller("manageusersController",["$scope","$routeParams","$translate","CRUDGeneric",function(e,t,n,o){e.InitObj=function(){e.viewMode=!0,e.Url={},e.Url.CodeUser=parseInt(t.CodeUser),e.Url.TypeUser=parseInt(t.TypeUser),1!==e.Url.TypeUser&&(e.Url.TypeUser=2),e.msgTexto="",n("Type"+e.Url.TypeUser).then(function(t){e.msgTexto=t}),o.getItem("User",e.Url.CodeUser).then(function(t){e.ItemUser=null!==t.data?t.data:{}}),1===e.Url.TypeUser?o.getItem("UserNatural",e.Url.CodeUser).then(function(t){e.ItemUserNatural=null!==t.data?t.data:{}}):o.getItem("UserLegal",e.Url.CodeUser).then(function(t){e.ItemUserLegal=null!==t.data?t.data:{}}),o.getItem("UserFileXUser/GetUserFileXUser",e.Url.CodeUser).then(function(t){e.UserFileXUser=null!==t.data?t.data:{}})},e.InitObj(),e.viewMessage=function(e){0===e.trim().length?n("MsjVerificacion").then(function(e){bootbox.alert(e)}):bootbox.alert(e)},e.ApprovedUser=function(){n("MsjAprobar",{User:e.ItemUserNatural.Name}).then(function(t){bootbox.confirm(t,function(t){t&&(e.ItemUser.Approved=!0,o.updateItem("User",e.ItemUser).then(function(t){void 0!==t.data.CodeResponse&&(e.TabUser=1)}))})})},e.ManageFiles=function(t,r){t?n("MsjAprobacion",{File:r.NameUserFile,User:r.FirstNameUser}).then(function(t){bootbox.confirm(t,function(t){t&&(r.Valid=!0,o.updateItem("UserFileXUser",r).then(function(t){void 0!==t.data.CodeResponse&&e.InitObj()}))})}):n("titleMsjRechazar").then(function(t){bootbox.prompt({title:t,inputType:"textarea",callback:function(t){null!==t&&(r.Message=t,o.updateItem("UserFileXUser",r).then(function(t){void 0!==t.data.CodeResponse&&e.InitObj()}))}})})}}]).controller("managelanguageController",["$scope","$rootScope","$translate",function(e,t,n){e.Idiomas=[{Prefix:"es",Idioma:"BUTTON_LANG_ES",PrefixImg:"co"},{Prefix:"en",Idioma:"BUTTON_LANG_EN",PrefixImg:"us"}],e.changeLanguage=function(e){n.use(e)},t.$on("$translateChangeSuccess",function(e,n){var o=n.language;t.lang=o})}]),app.controller("informedetalladoController",["$scope","$routeParams","CRUDGeneric","serviceLoadCbx",function(e,t,n,o){e.Datos=[],e.InitObj=function(){e.Url={},e.Url.TypeUser=parseInt(t.TypeUser),1!==e.Url.TypeUser&&(e.Url.TypeUser=2),1===e.Url.TypeUser?o.getUserVendedores(function(t){e.User=t}):o.getUserConcesionarios(function(t){e.User=t})},e.InitObj(),e.User={},e.uploadCbx=function(){1===e.Url.TypeUser?n.getList("FormatExcelDlleUser/GetInformeDlleVendedor/6/"+e.User.UserID).then(function(t){e.Datos=t.data}):n.getList("FormatExcelDlleUser/GetInformeDlleConsecionario/6/"+e.User.ConcecionarioID).then(function(t){e.Datos=t.data})}}]).controller("informedlleuserController",["$scope","$routeParams","CRUDGeneric",function(e,t,n){e.Datos=[],e.Url={},e.Url.TypeUser=parseInt(t.TypeUser),1!==e.Url.TypeUser&&(e.Url.TypeUser=2),1===e.Url.TypeUser?n.getList("FormatExcelDlleUser/GetInformeDlleVendedor/6").then(function(t){e.Datos=t.data}):n.getList("FormatExcelDlleUser/GetInformeDlleConsecionario/6").then(function(t){e.Datos=t.data})}]),app.controller("signinController",["$scope","$translate","CRUDGeneric","serviceLoadCbx","$filter","authService","$location",function(e,t,n,o,r,i,s){e.InitObj=function(){e.Url={},e.msgTexto="",i.fillAuthData(),e.ItemUser=i.authentication.User,null!==e.ItemUser&&(e.Url.TypeUser=e.ItemUser.TypeUserID,e.Url.CodeUser=e.ItemUser.UserID,t("Type"+e.Url.TypeUser).then(function(t){e.msgTexto=t}),1===e.Url.TypeUser?(o.getGender(function(t){e.Gender=t}),o.getCivilStatus(function(t){e.CivilStatus=t}),o.getARL(function(t){e.ARL=t}),o.getEPS(function(t){e.EPS=t}),o.getPension(function(t){e.Pension=t}),o.getCesantias(function(t){e.Cesantias=t}),o.getUserConcesionarios(function(t){e.User=t}),n.getItem("UserNatural",e.Url.CodeUser).then(function(t){e.ItemUserNatural=null!==t.data?t.data:{},e.ItemUserNatural.UserNaturalID=e.Url.CodeUser})):2===e.Url.TypeUser&&n.getItem("UserLegal",e.Url.CodeUser).then(function(t){e.ItemUserLegal=null!==t.data?t.data:{},e.ItemUserLegal.UserLegalID=e.Url.CodeUser,o.getTypeIdentificationTypeUser(function(t){e.TypeIdentification=t,e.ItemUserLegal.TypeIdentificationID=1},1),0!==e.ItemUserLegal.UserAgencyID&&n.getItem("UserAgency",e.ItemUserLegal.UserAgencyID).then(function(t){e.ItemUserAgency=null!==t.data?t.data:{},e.ItemUserAgency.UserID=e.ItemUserLegal.UserLegalID})}),o.getUserFileTypeUser(function(t){e.UserFile=t},e.Url.TypeUser),n.getItem("UserFileXUser/GetUserFileXUser",e.Url.CodeUser).then(function(t){e.UserFileXUser=null!==t.data?t.data:{}})),n.getItem("TextHelp/GetTextHelp",0).then(function(t){e.HelpInfo=t.data}),n.getItem("TextHelp/GetTextHelp",1).then(function(t){e.HelpArchivos=t.data}),n.getItem("TextHelp/GetTextHelp",2).then(function(t){e.HelpFinally=t.data}),n.getItem("TextHelp/GetTextHelp",6).then(function(t){e.HelpHome=t.data}),n.getItem("TextHelp/GetTextHelp",7).then(function(t){e.HelpUser=t.data}),n.getItem("TextHelp/GetTextHelp",8).then(function(t){e.HelpContrato=t.data}),o.getCity(function(t){e.City=t}),o.getBank(function(t){e.Bank=t}),o.getTypeAccountBank(function(t){e.TypeAccountBank=t}),o.getRegimen(function(t){e.Regimen=t})},e.InitObj(),e.FileLoad=function(t){return!(r("filter")(e.UserFileXUser,{UserFileID:t,Valid:!0,Message:""}).length>0)},e.viewMessage=function(e){0===e.trim().length?t("MsjVerificacion").then(function(e){bootbox.alert(e)}):bootbox.alert(e)},e.CompleteInfo=function(t){e.TabUser=t},e.CerrarSesion=function(){i.logOut(),s.path("/")},e.generarReporte=function(e){n.getPopUpHTML("FormatsFisaPay/GetFormatFisaPay/"+e)},e.SubirContratoCorretaje=function(){var t=new FormData;t.append("file",e.Archivo),n.uploadFile("UploadFiles/GuardarContratoCorretaje",t).then(function(t){void 0!==t.data.CodeResponse&&200===t.data.CodeResponse&&(e.TabUser=5)})},e.ActualizarDatosUsuario=function(){n.updateItem("User",e.ItemUser).then(function(t){void 0!==t.data.CodeResponse&&(1===e.Url.TypeUser?e.TabUser=1:n.updateItem("UserAgency",e.ItemUserAgency).then(function(t){void 0!==t.data.CodeResponse&&(e.TabUser=1)}))})},e.RegisterUserNatural=function(){null!==e.ItemUserNatural.$id&&void 0!==e.ItemUserNatural.$id?n.updateItem("UserNatural",e.ItemUserNatural).then(function(t){void 0!==t.data.CodeResponse&&(e.TabUser=2)}):n.addItem("UserNatural",e.ItemUserNatural).then(function(t){void 0!==t.data.CodeResponse&&(e.InitObj(),e.TabUser=2)})},e.RegisterUserLegal=function(){null!==e.ItemUserLegal.$id&&void 0!==e.ItemUserLegal.$id?n.updateItem("UserLegal",e.ItemUserLegal).then(function(t){void 0!==t.data.CodeResponse&&(e.TabUser=2)}):n.addItem("UserLegal",e.ItemUserLegal).then(function(t){void 0!==t.data.CodeResponse&&(e.InitObj(),e.TabUser=2)})},e.SubirArchivo=function(){for(var t=new FormData,o=0,r=0;r<e.UserFile.length;r++)null===e.UserFile[r].Archivo&&void 0===e.UserFile[r].Archivo||(t.append(e.UserFile[r].Name+"-"+e.UserFile[r].UserFileID,e.UserFile[r].Archivo),o++);o>0?n.uploadFile("UploadFiles/UploadFilesUser",t).then(function(t){void 0!==t.data.CodeResponse&&(1===e.Url.TypeUser?e.TabUser=3:e.TabUser=5)}):e.TabUser=3}}]),app.controller("dailydatabankController",["$scope","CRUDGeneric","$filter",function(e,t,n){e.Datos=[],e.Totales={},e.MostrarConsolidado=!1,e.value={},e.getHeader=function(){return["Fecha","Consecutivo","Concesionario","Identificacion Tributario","Agencia","Ciudad Agencia","Valor Total Comision Credito","Porcentaje Comision Credito Concesionario","Porcentaje Comision Credito Vendedor","Porcentaje Comision Credito","Valor Comision Credito Concesionario","Valor Comision Credito Vendedor","Valor Comision Credito","Nombre Vendedor","Apellidos Vendedor","Cedula Vendedor","Es Regimen Comun","Negocio Con Seguro Auto","Valor Comision SeguroAuto","Porcentaje Comision SeguroAuto Concesionario","Porcentaje Comision SeguroAuto Vendedor","Valor Comision SeguroAuto Concesionario","Valor Comision SeguroAuto Vendedor","Valor Total A Pagar","Tiene Impuesto A Ventas","Valor Impuesto A Ventas","Valor Impuesto Gravamen Financiero","Valor Total FISApay"]},e.Exportar=function(t){return n("filter")(e.Datos,{LoadStatus:t})},e.SubirArchivo=function(){var n=new FormData;n.append("file",e.Archivo),t.uploadFile("UploadFiles/UploadDailyData",n).then(function(t){void 0!==t.data.CodeResponse&&200===t.data.CodeResponse&&(e.MostrarConsolidado=!0,e.Datos=t.data.Response,e.CalcularTotales())})},e.CalcularTotales=function(){for(var t=e.Datos,n={Total:0,ValorTotalComisionCredito:0,ValorComisionCreditoConcesionario:0,ValorComisionCreditoVendedor:0,ValorComisionCredito:0,ValorComisionSeguroAuto:0,ValorComisionSeguroAutoConcesionario:0,ValorComisionSeguroAutoVendedor:0,ValorTotalAPagar:0,ValorImpuestoAVentas:0,ValorImpuestoGravamenFinanciero:0,ValorTotalFISApay:0,ValorCredito:0,ConErrores:0},o=0;o<t.length;o++)0===t[o].LoadStatus?(n.Total+=1,n.ValorTotalComisionCredito+=parseInt(t[o].ValorTotalComisionCredito),n.ValorComisionCreditoConcesionario+=parseInt(t[o].ValorComisionCreditoConcesionario),n.ValorComisionCreditoVendedor+=parseInt(t[o].ValorComisionCreditoVendedor),n.ValorComisionCredito+=parseInt(t[o].ValorComisionCredito),n.ValorComisionSeguroAuto+=parseInt(t[o].ValorComisionSeguroAuto),n.ValorComisionSeguroAutoConcesionario+=parseInt(t[o].ValorComisionSeguroAutoConcesionario),n.ValorComisionSeguroAutoVendedor+=parseInt(t[o].ValorComisionSeguroAutoVendedor),n.ValorTotalAPagar+=parseInt(t[o].ValorTotalAPagar),n.ValorImpuestoAVentas+=parseInt(t[o].ValorImpuestoAVentas),n.ValorImpuestoGravamenFinanciero+=parseInt(t[o].ValorImpuestoGravamenFinanciero),n.ValorTotalFISApay+=parseInt(t[o].ValorTotalFISApay),n.ValorCredito+=parseInt(t[o].ValorCredito)):n.ConErrores+=1;e.Totales=n},t.getItem("TextHelp/GetTextHelp",3).then(function(t){e.HelpInfo=t.data})}]).controller("planillasController",["$scope","$routeParams","CRUDGeneric",function(e,t,n){e.Datos=[],e.FormatExcelID=t.FormatExcelID,e.SubirArchivo=function(){var t=new FormData;t.append("file",e.Archivo),t.append("FormatExcelID",e.FormatExcelID),n.uploadFile("UploadFiles/UploadPlanillas",t).then(function(t){void 0!==t.data.CodeResponse&&(e.Datos=t.data.Response)})},n.getItem("TextHelp/GetTextHelp",4).then(function(t){e.HelpInfo=t.data})}]),app.factory("authInterceptorService",["$q","$injector","$location","localStorageService","$translate",function(e,t,n,o,r){var i={};return i.request=function(e){e.headers=e.headers||{};var t=o.get("authorizationData");return t&&(e.headers.Authorization="Bearer "+t.token),e},i.response=function(t){return null!==t.data&&void 0!==t.data.CodeResponse&&(200===t.data.CodeResponse&&"Ninguno"===t.data.CodeMensaje||r(t.data.CodeMensaje).then(function(e){myAlert(t.data.TypeResponse,e)})),t||e.when(t)},i.responseError=function(i){if(401===i.status){var s=t.get("authService"),a=o.get("authorizationData");if(a&&a.useRefreshTokens)return s.refreshToken(),e.reject(i);s.logOut(),n.path("/")}else null!==i.data&&(void 0!==i.data.error?r(i.data.error).then(function(e){myAlert("warning",e)}):void 0!==i.data.CodeResponse&&r(i.data.CodeMensaje).then(function(e){myAlert(i.data.TypeResponse,e)}));return e.reject(i)},i}]),app.factory("authService",["$http","$q","localStorageService","apiServiceSettings",function(e,t,n,o){var r=o.apiServiceBaseUri,i={},s={isAuth:!1,userName:"",codeUser:0,nameUser:"",userProfile:0,useRefreshTokens:!1},a={provider:"",userName:"",externalAccessToken:""},l=function(){n.remove("authorizationData")};return i.saveRegistration=function(t){return l(),e.post(r+"api/account/register",t).then(function(e){return e})},i.login=function(i){var a="grant_type=password&username="+i.userName+"&password="+i.password;i.useRefreshTokens&&(a=a+"&client_id="+o.clientID);var c=t.defer();return e.post(r+"token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var o={token:t.data.access_token,userName:t.data.userName,NameUser:t.data.user,codeUser:parseInt(t.data.codeuser),userRole:parseInt(t.data.userRole),refreshToken:"",useRefreshTokens:i.useRefreshTokens,User:{}};i.useRefreshTokens&&(o.refreshToken=t.data.refresh_token),n.set("authorizationData",o),s.isAuth=!0,s.userName=o.userName,s.codeUser=o.codeUser,s.nameUser=o.NameUser,s.userProfile=o.userRole,s.useRefreshTokens=o.useRefreshTokens,e.get(r+"User/GetUserSesion").then(function(e){if(null!==e.data){var o=n.get("authorizationData");o.User=e.data,n.set("authorizationData",o),c.resolve(t)}c.reject(err)},function(e,t){l(),c.reject(e)})},function(e,t){l(),c.reject(e)}),c.promise},i.logOut=l,i.fillAuthData=function(){var e=n.get("authorizationData");e&&(s.isAuth=!0,s.userName=e.userName,s.codeUser=e.codeUser,s.nameUser=e.NameUser,s.userProfile=e.userRole,s.useRefreshTokens=e.useRefreshTokens,s.User=e.User)},i.authentication=s,i.refreshToken=function(){var i=t.defer(),s=n.get("authorizationData");if(s&&s.useRefreshTokens){var a="grant_type=refresh_token&refresh_token="+s.refreshToken+"&client_id="+o.clientID;n.remove("authorizationData"),e.post(r+"token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){n.set("authorizationData",{token:e.access_token,userName:e.userName,refreshToken:e.refresh_token,useRefreshTokens:!0}),i.resolve(e)},function(e,t){l(),i.reject(e)})}return i.promise},i.obtainAccessToken=function(o){var i=t.defer();return e.get(r+"api/account/ObtainLocalAccessToken",{params:{provider:o.provider,externalAccessToken:o.externalAccessToken}}).success(function(e){n.set("authorizationData",{token:e.access_token,userName:e.userName,refreshToken:"",useRefreshTokens:!1}),s.isAuth=!0,s.userName=e.userName,s.useRefreshTokens=!1,i.resolve(e)}).error(function(e,t){l(),i.reject(e)}),i.promise},i.externalAuthData=a,i.registerExternal=function(o){var i=t.defer();return e.post(r+"api/account/registerexternal",o).success(function(e){n.set("authorizationData",{token:e.access_token,userName:e.userName,refreshToken:"",useRefreshTokens:!1}),s.isAuth=!0,s.userName=e.userName,s.useRefreshTokens=!1,i.resolve(e)}).error(function(e,t){l(),i.reject(e)}),i.promise},i}]);